{"ast":null,"code":"import React,{useMemo}from'react';import'../styles/QuestionDisplay.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const QuestionDisplay=_ref=>{let{question,selectedAnswers,onAnswerSelect,feedback,correctAnswer}=_ref;// Randomize the order of answers using useMemo to prevent re-randomization on each render\nconst randomizedAnswers=useMemo(()=>{if(!question||!question.variante)return[];// Convert object entries to array and shuffle\nconst entries=Object.entries(question.variante);// Fisher-Yates shuffle algorithm\nfor(let i=entries.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[entries[i],entries[j]]=[entries[j],entries[i]];}return entries;},[question]);return/*#__PURE__*/_jsxs(\"div\",{className:\"question-display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question\",children:[question.numar,\". \",question.intrebare]}),/*#__PURE__*/_jsx(\"div\",{className:\"answers\",children:randomizedAnswers.map(_ref2=>{let[letter,text]=_ref2;const isSelected=selectedAnswers.includes(letter);const shouldBeSelected=feedback.visible&&correctAnswer.includes(letter);const isIncorrect=feedback.visible&&isSelected&&!correctAnswer.includes(letter);let className=\"answer-option\";if(!feedback.visible&&isSelected){className+=\" selected\";}else if(feedback.visible){if(shouldBeSelected){className+=\" correct\";}else if(isIncorrect){className+=\" incorrect\";}}return/*#__PURE__*/_jsx(\"div\",{className:className,onClick:()=>!feedback.visible&&onAnswerSelect(letter),\"data-letter\":letter,children:text},letter);})}),feedback.visible&&/*#__PURE__*/_jsx(\"div\",{className:`feedback ${feedback.isCorrect?'correct':'incorrect'}`,children:feedback.message})]});};export default QuestionDisplay;","map":{"version":3,"names":["React","useMemo","jsxs","_jsxs","jsx","_jsx","QuestionDisplay","_ref","question","selectedAnswers","onAnswerSelect","feedback","correctAnswer","randomizedAnswers","variante","entries","Object","i","length","j","Math","floor","random","className","children","numar","intrebare","map","_ref2","letter","text","isSelected","includes","shouldBeSelected","visible","isIncorrect","onClick","isCorrect","message"],"sources":["/Users/dragosudrea/repos/quiz-react-app/src/components/QuestionDisplay.js"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport '../styles/QuestionDisplay.css';\r\n\r\nconst QuestionDisplay = ({ \r\n  question, \r\n  selectedAnswers, \r\n  onAnswerSelect,\r\n  feedback,\r\n  correctAnswer\r\n}) => {\r\n  // Randomize the order of answers using useMemo to prevent re-randomization on each render\r\n  const randomizedAnswers = useMemo(() => {\r\n    if (!question || !question.variante) return [];\r\n    \r\n    // Convert object entries to array and shuffle\r\n    const entries = Object.entries(question.variante);\r\n    \r\n    // Fisher-Yates shuffle algorithm\r\n    for (let i = entries.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [entries[i], entries[j]] = [entries[j], entries[i]];\r\n    }\r\n    \r\n    return entries;\r\n  }, [question]);\r\n  \r\n  return (\r\n    <div className=\"question-display\">\r\n      <div className=\"question\">\r\n        {question.numar}. {question.intrebare}\r\n      </div>\r\n      \r\n      <div className=\"answers\">\r\n        {randomizedAnswers.map(([letter, text]) => {\r\n          const isSelected = selectedAnswers.includes(letter);\r\n          const shouldBeSelected = feedback.visible && correctAnswer.includes(letter);\r\n          const isIncorrect = feedback.visible && isSelected && !correctAnswer.includes(letter);\r\n          \r\n          let className = \"answer-option\";\r\n          if (!feedback.visible && isSelected) {\r\n            className += \" selected\";\r\n          } else if (feedback.visible) {\r\n            if (shouldBeSelected) {\r\n              className += \" correct\";\r\n            } else if (isIncorrect) {\r\n              className += \" incorrect\";\r\n            }\r\n          }\r\n          \r\n          return (\r\n            <div \r\n              key={letter}\r\n              className={className}\r\n              onClick={() => !feedback.visible && onAnswerSelect(letter)}\r\n              data-letter={letter}\r\n            >\r\n              {text}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      \r\n      {feedback.visible && (\r\n        <div className={`feedback ${feedback.isCorrect ? 'correct' : 'incorrect'}`}>\r\n          {feedback.message}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuestionDisplay; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}